// INCLUDE PARTIALS ----------------------------------------------------------------------------------------------------

@import 'code-view';
@import 'forms/_keyword-search';

// INPUT GLOBAL VARS ---------------------------------------------------------------------------------------------------

$default-input-transition: all 0.3s;
$default-input-height: 40px;
$default-input-font-size: 14px;
$borderSize: 1px !default;
$default-input-border-radius: 2px;


// CORE INPUT STYLES ---------------------------------------------------------------------------------------------------

// General browser-specific overrides (not needed specifically for each input type below - reduces bloat having it here)
input,
textarea,
select {
    -webkit-appearance: none;
    -moz-appearance: none;

    &::-ms-clear {
        display: none;
    }
    &::-ms-expand {
        display: none;
    }
    &::-ms-value {
        // Not sure what this rule was for. It makes problems for overriding input styles in IE. -jfal
        // color: $color-midnight;
        background: none;
    }
}

// Tag styling
input[type=text],
input[type=password],
input[type=color],
input[type=date],
input[type=datetime],
input[type=datetime-local],
input[type=email],
input[type=month],
input[type=number],
input[type=range],
input[type=search],
input[type=tel],
input[type=time],
input[type=url],
input[type=week],
textarea {
    @include input-style;

    display: block;
    height: $default-input-height;
    box-sizing: border-box;
    outline: none;
    font-family: $font-pn-regular;

    @include border-radius($default-input-border-radius);
    @include transition(border-color 0.3s);

    &:visited {
        border: 1px solid $color-input-fill;
    }
    &:hover {
        border: 1px solid $color-input-border;
    }
    &:focus {
        border-color: $color-active-blue;
    }
}

textarea {
    overflow: auto;
    max-width: 930px;

    &[readonly],
    &[disabled] {
        resize: none !important;
    }
}

label {
    position: relative;
    display: inline-block;
    box-sizing: border-box;
    margin: 0 20px 0 0;
    font-size: 13px;
    text-transform: uppercase;
    vertical-align: top;
    line-height: 1em;
    font-family: $font-pn-regular;
    cursor: default;

    .modifier_strip-input-margins & {
        // this is for layouts that don't play well with the built-in margins inputs have
        // for instance, when an input goes in a column, which has its own padding and margin
        margin-right: 0;
    }

    .label-text,
    .input-container {
        display: block;
        position: relative;

        @include transition($default-input-transition);

        &:before {
            @include transition($default-input-transition);
        }
    }

    .label-text {
        color: $color-elephant;
        margin: 0 0 8px;
        text-align: left;

        .help-tooltip {
            margin-left: 10px;
            height: 12px;
            vertical-align: baseline;
        }
        .help-tooltip.inline {
            margin-left: 5px;
            margin-top: 0;
        }
    }

    &.input-text {
        input {
            width: 100%;
            padding: 4px 15px 3px;
        }
        &.search {
            .input-container {
                input {
                    padding-left: 35px;
                    padding-right: 30px;
                }
            }
            &.form-error {
                a.clear-search {
                    @include transition($default-input-transition);
                    right: 32px;
                }
            }
            a.clear-search {
                position: absolute;
                font-family: $icon-font;
                text-transform: none;
                font-size: 11px;
                color: inherit;
                top: 14px;
                right: 10px;

                &:before {
                    content: 'X';
                }

                &:hover {
                    text-decoration: none;
                    color: $color-active-blue;
                }
            }
            a.undo {
                top: 15px;
                line-height: 1em;

                @include transition($default-input-transition);

                &:before {
                    content: 'X';
                    font-size: 13px;
                    line-height: 1em;
                }
            }
            &--query .input-container:before {
                content: 'd';
            }
        }
        &.no-label {
            input {
                margin-top: 0;
            }
        }
        &.extended {
            input {
                width: 350px;
            }
        }
        &.masking-controls {
            input[type=text],
            input[type=password] {
                padding-right: 40px;
            }
        }

        // temporary sizing classes
        &.input-width-1 {
            input {
                width: 70px;
            }
        }
        &.input-width-2 {
            input {
                width: 210px;
            }
        }
        &.input-width-3 {
            input {
                width: 492px;
            }
        }
        &--mono input {
            font-family: 'Consolas', 'Monaco', 'Andale Mono', monospace;
        }
    }

    &.input-textarea {
        textarea {
            padding: 12px 15px;
            line-height: 1.2em;
            height: auto;
            width: 100%;
        }
        &.extended {
            textarea {
                width: 350px;
            }
        }
        &.no-label {
            textarea {
                margin-top: 0;
            }
        }
    }

    &.input-text,
    &.input-textarea,
    &.input-multivalues {
        &.short {
            input[type=text],
            input[type=password] {
                width: 75px;
            }
        }
        &.actions {
            input[type=text],
            input[type=password],
            textarea {
                padding-right: 40px;
            }
        }
    }

    &.input-checkbox {
        $checkbox-size: 24px;
        $border-width: 3px;

        position: relative;
        display: inline-block;
        box-sizing: border-box;
        min-width: $checkbox-size;
        min-height: $checkbox-size;
        padding: 0 0 22px;
        cursor: pointer;

        .label-text {
            display: block;
            text-transform: uppercase;
        }
        input[type=checkbox] {
            position: absolute;
            visibility: hidden;
            margin: 0;
            top: 0;
            left: 0;
            width: $checkbox-size;
            height: $checkbox-size;

            &:checked + .icon:after {
                color: $color-input-text;
            }
        }
        .icon {
            position: absolute;
            left: 0;
            bottom: 0;
            display: inline-block;

            &:before {
                @include input-background;

                content: '';
                display: block;
                box-sizing: border-box;
                border: 3px solid $color-timberwolf;
                height: $checkbox-size;
                width: $checkbox-size;
                line-height: $checkbox-size;

                @include border-radius($default-input-border-radius);
            }
            &:after {
                content: '\79';
                position: absolute;
                text-transform: none;
                color: transparent;
                font-family: $icon-font;
                font-size: 10px;
                left: 0;
                bottom: 0;
                height: $checkbox-size;
                width: $checkbox-size;
                line-height: $checkbox-size;
                text-align: center;

                @include transition($default-input-transition);
            }
        }
        &.top-label {
            padding: 0;
            height: 47px;

            .icon {
                top: 23px;
            }
        }
        &.no-label {
            margin-right: 0;
        }
        &.side-label {
            .icon {
                position: relative;
                top: auto;
                left: auto;
                vertical-align: middle;
                margin: 0 5px 0 0;
            }
            .label-text {
                display: inline-block;
                vertical-align: middle;
            }
        }
        &.stacked,
        &.inline {
            margin-bottom: 5px;
            margin-right: 20px;
            padding: 0 0 0 36px;
            text-transform: none;

            .label-text {
                display: inline-block;
                text-transform: none;
                font-size: 14px;
                color: $color-midnight;
                padding: 6px 0 0;
                margin: 0;
                line-height: 1em;
            }
        }
        &.stacked {
            display: block;
            margin-bottom: 10px;

            .icon {
                bottom: auto;
            }
        }
        &.align-inputs {
            .icon {
                bottom: -8px;
            }
        }
    }

    &.input-radio {
        $radio-height: 24px;
        $border-width: 3px;

        position: relative;
        display: inline-block;
        box-sizing: border-box;
        line-height: $radio-height;
        min-height: $radio-height;
        min-width: $radio-height;
        font-size: 14px;
        text-transform: none;
        color: $color-midnight;
        padding: 0 0 0 35px;
        margin-right: 20px;
        cursor: pointer;

        .circle {
            @include input-background;

            position: absolute;
            left: 0;
            top: -1px;
            box-sizing: border-box;
            width: $radio-height;
            height: $radio-height;
            cursor: pointer;
            border: $border-width solid $color-timberwolf;

            @include border-radius(ceil($radio-height/2) + $border-width);

            &:after {
                content: '';
                position: absolute;
                left: 4px;
                top: 4px;
                width: 10px;
                height: 10px;
                background-color: $color-elderly;

                @include border-radius(ceil($radio-height/2) + 1);
                @include transition($default-input-transition);
            }
        }
        &.no-label {
            margin-right: 0;
            padding-left: 0;
        }
        &.stacked {
            display: block;
            margin-bottom: 13px;

            &:last-of-type {
                margin-bottom: 0;
            }
        }
        .label-text {
            text-transform: none;
            color: $color-midnight;
        }
        input[type=radio] {
            position: absolute;
            visibility: hidden;
            margin: 0;

            &:checked + .circle:after {
                background-color: $color-midnight;
            }
        }
        &.input-text {
            .circle {
                bottom: 9px;
            }
            input[type=text] {
                display: inline-block;
                margin: 0;
            }
        }
        &.hidden {
            display: none;
        }
        .help-tooltip {
            height: 19px;
            vertical-align: bottom;
            margin: 0 0 0 7px;
        }
    }

    &.input-group {
        font-size: 14px;
        color: $color-elephant;
        text-transform: uppercase;
        margin: 0 0 20px;
    }

    &.detached {
        margin-bottom: 7px;
        display: block;
    }

    &.parent {
        color: $color-elephant;
        font-family: $font-pn-semibold;
        display: block;
        font-size: 15px;
        margin: 0 0 $spacing-sm;
    }

    &.inline-save {
        .input-container {
            padding-right: 50px;
        }
        .undo {
            right: 61px;
        }
        .save {
            position: absolute;
            top: 15px;
            right: 0;
        }
    }

    &.radio-group {
        display: block;
        margin: 0 0 10px;

        .help-tooltip {
            line-height: 1em;
            height: 18px;
            width: 18px;
            vertical-align: middle;
            margin: 0 0 0 10px;
        }
    }

    .input-toggle {
        display: block;
    }

    a {
        &.password-show-button {
            position: absolute;
            right: 14px;

            &:hover {
                text-decoration: none;
            }
            &.icon-view {
                top: 14px;
                font-size: 11px;
            }
            &.icon-view-hidden {
                top: 9px;
                font-size: 20px;
            }
        }
        &.input-toggle {
            display: block;
        }
        &.undo {
            position: absolute;
            top: 13px;
            right: 11px;
            font-size: 0;
            color: transparent;
            width: 14px;

            &:before {
                content: '\6e';
                font-family: $icon-font;
                font-size: 16px;
                color: $color-active;
                text-transform: none;

                @include transition($default-input-transition);
            }
        }
    }

    .value-container {
        display: block;
        margin: 6px 0 0;
        color: $color-midnight;
        text-transform: none;
        font-size: 16px;
    }
}

.content-measurer {
    position: absolute;
    display: inline-block;
    z-index: -10;
    visibility: hidden;
}

.flex-width {
    max-width: 100%;

    .input-container {
        input[type=text],
        input[type=password] {
            max-width: 100%;

            @include transition((width 0s));
        }
    }
}

fieldset {
    margin: 0 0 25px;

    .input-select {
        margin-right: 0;
    }
    legend {
        text-transform: uppercase;

        .help-tooltip {
            margin: 0 5px 0 10px;
            height: 18px;
            width: 18px;
            vertical-align: text-bottom;
        }
        label {
            margin-right: 5px;
            margin-bottom: 0;
        }
    }
    &.focused,
    &.unfocused {
        legend {
            padding: 0 10px;
            margin: 0 0 0 -10px;
            font-size: 14px;
            color: $color-elephant;

            .input-radio {
                &:last-of-type {
                    margin-right: 0;
                }
                .label-text {
                    margin-bottom: 0;
                }
            }
        }
    }
    &.focused {
        border: 1px solid $color-dolphin;
        padding: 20px;

        @include border-radius(5px);

        &.narrow {
            width: 500px;
        }
    }
    &.unfocused {
        padding: 21px;
        padding-bottom: 0;
    }
    &.conditional-fieldset {
        margin-left: -21px;
    }
    .subset {
        margin: 0 0 0 20px;
        label {
            text-transform: none;
        }
    }
}

input[type=file] {
    line-height: 1em;
}

@include placeholder-css($color-input-placeholder, normal, 0);

// Input types
.input-text,
.input-textarea,
.input-select,
.input-file-upload,
.input-integer,
.input-radio,
.input-checkbox,
.input-color-picker,
.input-calendar {
    margin: 0 10px 20px 0;
}

.radio-text-input {
    margin: -12px 0 0 32px;
}

.radio-input-link {
    margin: 2px 0 0 32px;
}

.input-select {
    > span {
        line-height: 1em;
        display: block;

        .help-tooltip {
            margin-left: 10px;
        }
        &.inline {
            display: inline-block;
            vertical-align: top;
            line-height: 50px;
            padding-right: 10px;
        }
    }
    .input-container {
        height: $default-input-height;

        .wrapper {
            position: relative;
            clear: both;
            display: block;
            height: $default-input-height;
            overflow: hidden;
            cursor: pointer;
            border: 1px solid $color-input-fill;
            box-sizing: border-box;

            @include border-radius($default-input-border-radius);

            &:after {
                position: absolute;
                content: 'v';
                font-family: $icon-font;
                font-size: 10px;
                text-transform: none;
                right: 10px;
                top: 16px;
                line-height: 1em;
                color: $color-midnight;
                pointer-events: none;
            }
        }
    }
    &.no-label {
        .input-container {
            margin: 0;
        }
    }
    &.large {
        .input-container {
            div {
                height: 50px;
                line-height: 50px;
            }
            &:after {
                top: 0;
                line-height: 50px;
            }
        }
    }
    select {
        appearance: none;
        border: 0;
        border-radius: 0;
        color: $color-input-text;
        background-color: $color-input-fill;
        font-size: $default-input-font-size;
        line-height: 20px;
        height: $default-input-height;
        outline: none;
        cursor: pointer;
        padding: 0 40px 0 10px;
        width: 110%;
        font-family: $font-stack;
        text-transform: none;

        @include transition($default-input-transition);

        // IE FIXES
        option {
            &:checked {
                background-color: $color-active-blue-option;
            }
            &:hover {
                background-color: $color-active-blue-option;
                color: $color-white;
            }
        }

        // FF FIXES
        &:-moz-focusring {
            color: transparent;
            text-shadow: 0 0 0 $color-black;
        }
    }
    &.ie9 {
        .input-container {
            .wrapper {
                &:after {
                    content: '';
                }

            }
        }
        select {
            // allow input widths to override
            width: 100%;
            padding-right: 0;
            option {
                &:checked,
                &:hover {
                    background-color: $color-input-fill;
                    color: $color-input-text;
                }
            }
        }
    }
    &.select-filter {
        .input-container {
            .wrapper {
                border: 1px solid $color-rhino;
                select {
                    background: $color-white;
                }
            }
        }
    }
}

@mixin drop-down-styles {
    $option-padding: 7px 40px 7px 15px;

    .select-list {
        list-style: none;
        position: relative;
        background: $color-white;
        padding: 8px 0;
        max-height: 200px;
        overflow-y: scroll;

        // each item in dropdown
        .select-option,
        .none-option {
            // Note: decided not to use line-height here for alignment because it causes issues e.g. large font-sizes
            // will overlap, and also looks bad if one item overflows onto 2 lines
            padding: $option-padding;
            font-size: 14px;
            position: relative;
            line-height: 13px;
            color: $color-midnight;
            cursor: pointer;
            white-space: normal;

            &:hover,
            &.highlighted {
                background-color: $color-active-blue;
                color: $color-white;
                display: block;
                min-width: 100%;

                &:before {
                    background-color: $color-white;
                }
            }
            &.disabled {
                background: none;
                color: $color-rabbit-fur;
            }
        }
        .help-hint-option {
            &.select-option {
                padding: 0;

                .help-tooltip {
                    display: block;
                }
                .help-tooltip-target {
                    display: block;
                    padding: $option-padding;
                    color: $color-midnight;
                    &:hover,
                    &.highlighted {
                        background-color: $color-active-blue;
                        color: $color-white;

                        &:before {
                            background-color: $color-white;
                        }
                    }
                }
            }
        }
        .selected {
            font-family: $font-pn-semibold;

            &:before {
                content: '';
                width: 3px;
                height: 3px;
                background-color: $color-midnight;
                display: inline-block;
                position: absolute;
                top: 12px;
                left: 7px;

                @include border-radius(1.5px);
            }
        }
        .none-option {
            font-style: italic;
            color: $color-elephant;
        }
    }
}

.input-custom-select {
    padding: $borderSize;   // prevent the highlighted child from overlapping the input border
    display: inline-block;
    vertical-align: top;
    text-align: left;
    width: auto;           // set to auto, allow different input widths to be set

    &.open {
        z-index: 2; // make sure menu appears above other elements on the page

        .select-list {
            display: block;

            @include animation(fade-in 0.2s);

        }
        .input-container {
            &:last-of-type {
                .wrapper {
                    &:after {
                        @include rotate(-180deg);
                    }
                }
            }
        }
        .selected-option {
            .arrow {
                @include rotate(-180deg);
            }
        }
    }
    &.disabled {
        .input-text {
            .input-container {
                @include opacity(1);
                input {
                    cursor: default !important;
                }
            }
        }
    }
    // override the input-select behavior
    .input-container {
        height: auto;

        @include transition(none);
        &:before,
        &:focus {
            @include transition(none);
        }
        &:last-of-type {
            .wrapper {
                overflow: visible;
                border: none;
            }
        }
    }

    // override default input readonly styles
    .input-text {
        width: 100%;
        margin-right: 0;
        margin-bottom: 0;

        input[type=text] {
            width: 100%;
        }
    }
    .readonly {
        &.input-text {
            input[type=text] {
                @include input-style;
                cursor: pointer;

                &:focus {
                    border-color: $color-active-blue;
                }
            }
        }
        &.form-error {
            &.input-text {
                input[type=text] {
                    &:hover {
                        border: 1px solid $color-critical-red;
                    }
                }
            }
        }
    }
    .selected-option {
        @include transition(none);
        &:hover {
            @include transition(none);
        }
    }
    // override input defaults
    &.form-error {
        &.input-text {
            input[type=text] {
                &:hover {
                    border: 1px solid $color-critical-red;
                }
            }
        }
        .wrapper:after {
            right: 28px;
        }
    }
    input[type=text] {
        @include transition(none);
        &.selected-option-label {
            border-radius: $default-input-border-radius $default-input-border-radius 0 0;
            &:hover,
            &:focus {
                cursor: pointer;
                border-color: $color-input-fill;
            }
        }
    }

    @include placeholder-css($color-midnight, normal, 0, normal); // override placeholder styles on selected option preview
    @include drop-down-styles;

    .select-list {
        $option-padding: 7px 40px 7px 15px;

        display: none;
        top: -1px;
        z-index: 2; // popup so render above everything else
        max-height: 200px;
        overflow-y: auto;
        border: 1px solid $color-rabbit-fur;
        list-style: none;
        position: relative;
        background: $color-white;
        padding: 8px 0;
        white-space: nowrap;

        @include box-shadow(0 3px 4px rgba($color-black, 0.1));

        // place menu above the input element
        &.dropup {
            bottom: 100%;
            margin-bottom: (-$borderSize);
        }

        @media (max-width: 500px) { // except on small screens, where we force the dropdown width to match the input
            white-space: normal;
        }

        // horizontal rule separator between groups
        .group-separator {
            border-top: 1px dotted $color-rabbit-fur;
            margin: 5px 10px;

            &:first-child {
                border: none;
            }
        }
        .select-prompt {
            padding: $option-padding;
            font-size: 14px;
        }
        .select-search-prompt {
            font-family: $font-pn-light;
            font-style: italic;
            color: $color-stratus;
        }
        .select-add {
            .label {
                color: $color-elephant;
                font-size: 13px;
                margin-right: 4px;

                &:after {
                    content: ':';
                }
            }
            &.highlighted {
                background-color: $color-active-blue;
                color: $color-white;

                .label {
                    color: $color-white;
                }
            }
        }

        // each group header in dropdown
        .select-group {
            padding: 7px 40px 7px 10px;
            color: $color-elephant;
            text-transform: uppercase;
            font-size: 13px;

            &.disabled {
                color: $color-rabbit-fur;
            }
        }
    }
    .selected-option,
    .select-option,
    .none-option {
        text-transform: none;
    }
}

.input-file-upload {
    position: relative;
    display: inline-block;
    width: 100%;

    &.no-label {
        margin-top: 0;
    }
    input[type=file] {
        position: absolute;
        top: 0;
        right: 0;
        margin: 0;
        padding: 0;
        font-size: 1px;
        z-index: 1;
        width: 100%;
        height: 100%;
        cursor: pointer;

        @include opacity(0);
    }
    button.inline.choose {
        display: block;
        text-transform: none;
        margin: 0 10px 0 0;
    }
    .file-info {
        display: block;
        position: relative;
        line-height: 1em;
        font-family: $font-pn-regular;
        margin: 10px 0 0 1px;

        .icon-file {
            font-size: 10px;
            padding-right: 5px;
            display: inline-block;
        }
        &:before {
            display: none;
        }

        a.file-remove {
            font-size: 14px;
            line-height: 1em;
            vertical-align: middle;
        }
        .file-name {
            display: inline-block;
            font-size: 14px;
            line-height: 1em;
            color: $color-midnight;
            max-width: 250px;
            vertical-align: middle;
            margin: 0 10px 0 0;

            @include text-truncate;
        }
    }
    &.file-selected {
        .file-size {
            display: none;
        }
    }
    &.image-upload {
        $img-width: 90px;

        &.selected,
        &.not-selected {
            .image-icon {
                &:after {
                    content: '';
                    border: none;
                }
            }
        }
        .image-icon {
            display: block;
            width: 67px;
            height: 67px;
            border: 1px solid $color-stratus;
            padding: 0;
            position: relative;
            overflow: hidden;

            @include border-radius(2px);

            &:before {
                display: block;
                position: absolute;
                left: -10px;
                color: $color-stratus;
                font-family: $icon-font;
                text-transform: none;
                content: '\69';
                font-size: 60px;
                height: 67px;
                line-height: 1.3em;
            }
            &:after {
                line-height: 1em;
                position: absolute;
                width: 15px;
                font-family: $icon-font;
                text-transform: none;
                right: 5px;
                bottom: 5px;
                content: '*';
                font-size: 15px;
                padding: 5px;
                color: $color-slate;
                background-color: $color-white;
                border: 1px solid $color-rhino;

                @include border-radius(18px);
            }
            &.no-logo {
                display: inline-block;
                color: $color-stratus;
                border: 1px solid $color-stratus;
                height: 72px;
                width: 72px;
                padding: 5px 0 0;
            }
        }
        .with-logo {
            width: 90px;
        }
        .input-image-thumb {
            display: none;

            @include border-radius(4px);

            img {
                display: block;
                width: $img-width;
                border: 1px solid $color-timberwolf;
            }
        }
        button.inline.choose {
            display: none;
        }
        .file-size {
            position: absolute;
            bottom: 4px;
            left: $img-width - 1px;
            min-width: 300px;
            color: $color-stratus;
            line-height: 1em;
            font-size: 13px;
            span:first-child {
                display: block;
            }
            .max-size {
                text-transform: none;
            }
        }
        .image-types {
            font-size: 14px;
            position: absolute;
            top: 65px;
            left: $img-width + 15px;
        }
        &.file-selected {
            .input-image-thumb {
                display: block;
            }
            .image-icon {
                display: none;
            }
        }
        &.inactive {
            display: none;
        }
    }
}

.input-filedrop {
    box-sizing: border-box;
    position: relative;
    border: 1px dashed $color-strong-neutral-30;
    padding: $spacing-lg;
    text-align: center;
    height: 95px;
    background-color: $color-white;
    color: $color-strong-neutral-20;
    font-family: $font-pn-light;
    border-radius: 2px;
    line-height: 1em;

    label {
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        margin: 0;
        text-transform: none;
        font-size: 15px;
        cursor: pointer;
        font-family: $font-pn-light;
    }
    input[type=file] {
        opacity: 0;
        position: absolute;
        z-index: -1;
    }
}

.input-filedrop--hover,
.input-filedrop--hover.input-filedrop--selected {
    background: #e4ecf2;
}

.input-filedrop--selected {
    background: lighten($color-success-green, 40%);

    label {
        position: relative;
        display: inline-block;
        vertical-align: middle;
        top: auto;
        bottom: auto;
        left: auto;
        right: auto;
    }
}

.input-filedrop__upload-text,
.input-filedrop__selected-content {
    @include vertical-align;
}

.input-filedrop__upload-text {
    font-size: 14px;
    line-height: 1.3em;
}

.input-filedrop__selected-content {
    font-size: 15px;
}

.input-filedrop__selected-text {
    display: inline-block;
    max-width: 50%;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    vertical-align: middle;
}

.input-filedrop__link {
    color: $color-active-blue;
    vertical-align: middle;
    cursor: pointer;
}

.input-filedrop__divider {
    margin: 0 0 0 15px;
    padding: 0 0 0 15px;
    border-left: 1px solid $color-strong-neutral-30;
}

.input-filedrop__icon {
    background-color: $color-success;
    margin: 0 $spacing-md 0 0;
}

.input-toggle {
    $toggle-height: 24px;
    $toggle-width: 40px;
    $toggle-time: 0.1s;

    $toggle-diameter: $toggle-height - 2;
    $toggle-border-radius: ceil($toggle-height / 2) + 1;

    display: inline-block;

    .toggle {
        position: relative;
        height: $toggle-height - 2;
        width: $toggle-width - 2;
        background-color: $color-stratus;
        display: inline-block;
        vertical-align: middle;
        box-sizing: border-box;
        border: 1px solid $color-stratus;
        cursor: pointer;

        @include border-radius($toggle-border-radius);
        @include transition(all $toggle-time);

        &:after {
            content: '';
            background-color: $color-white;
            position: absolute;
            left: 0;
            top: 0;
            height: $toggle-diameter - 2;
            width: $toggle-diameter - 2;
            box-sizing: border-box;

            @include border-radius($toggle-border-radius);
            @include transition(all $toggle-time);
            @include box-shadow((1px 1px 3px 0 rgba(0, 0, 0, 0.3)));
        }
    }
    &.selected {
        .toggle {
            background-color: $color-success;
            border-color: $color-success;

            &:after {
                left: $toggle-width - $toggle-diameter - 1;
            }
        }
    }
    &.locked:not(.selected) {
        .toggle {
            background-color: $color-warning-icon-yellow;
            border-color: $color-warning-icon-yellow;
        }
    }
    &.small {
        .toggle {
            $toggle-height: 18px;
            $toggle-width: 30px;
            $toggle-diameter: $toggle-height - 2;

            height: $toggle-height;
            width: $toggle-width;

            &:after {
                height: $toggle-diameter;
                width: $toggle-diameter;
            }
        }
        &.selected {
            .toggle {
                &:after {
                    left: $toggle-width - $toggle-diameter - 1; //13px
                }
            }
        }
    }
}

.input-calendar {
    display: inline-block;
    position: relative;
    font-family: $font-stack;
    margin-bottom: 7px;

    &:before,
    &:after {
        font-family: $icon-font;
        font-size: 14px;
        line-height: 1em;
        text-transform: none;
        position: absolute;
        color: $color-midnight;
        cursor: pointer;
    }
    &:before {
        content: '\43';
        left: 10px;
        bottom: 14px;

        @include transition($default-input-transition);
    }
    &:after {
        content: 'v';
        right: 9px;
        bottom: 12px;

        @include transition($default-input-transition);
    }
    &.active {
        input[type=text] {
            border: 1px solid $color-stone;
        }
        &:after {
            @include transform(rotate(180deg));
        }
    }
    input[type=text].input-calendar-value {
        padding: 0 30px;
        font-size: $default-input-font-size;
        width: 226px;
        height: $default-input-height;
        line-height: 32px;
        &:focus {
            border: 1px solid $color-stone;
        }
    }

    // display
    .input-calendar-wrapper {
        display: none;
        font-family: $font-stack;

        &.active {
            position: absolute;
            display: block;
            padding: 5px 12px;
            border: 1px solid $color-stone;
            background-color: $color-input-fill;
            width: 200px;
            text-align: center;
            left: 0;
            top: calc(100% - 1px);
            -webkit-touch-callout: none;
            z-index: 2;

            @include border-radius(0 0 $default-input-border-radius $default-input-border-radius);
            @include user-select(none);
        }
        .today-btn {
            display: none;
        }
        .days-view,
        .months-view,
        .years-view {
            .navigation-wrapper {
                .navigation-title {
                    width: 100px;
                    display: inline-block;
                    cursor: pointer;
                    color: $color-input-text;
                    font-weight: 600;
                }
                .icon {
                    display: inline-block;

                    .fa {
                        display: inline-block;
                        height: 25px;
                        width: 25px;
                        color: $color-midnight;
                        font-size: 13px;
                        cursor: pointer;

                        &.fa-angle-left {
                            margin-right: 20px;
                        }
                        &.fa-angle-right {
                            margin-left: 20px;
                        }
                    }
                    &.disabled {
                        .fa {
                            @include opacity(0.4);
                        }
                    }
                }
            }
            .days-title {
                .cell {
                    height: 25px;
                    line-height: 25px;
                    cursor: default;
                    font-weight: 600;
                    margin: 0;
                    color: $color-input-text;
                }
            }
            .days,
            .months,
            .years {
                padding-bottom: 2px;
                .day {
                    width: 26px;
                    height: 25px;
                    font-weight: 600;
                }
                .month {
                    width: 58px;
                    height: 38px;
                    line-height: 38px;
                    color: $color-input-text;
                }
            }
            .year {
                width: 58px;
                height: 38px;
                line-height: 38px;
                color: $color-input-text;
            }
            .day {
                width: 26px;
                height: 25px;
                line-height: 25px;
                color: $color-input-text;
                &.prev,
                &.next {
                    @include opacity(0.4);
                    @include transition(opacity 0.5s ease);
                    visibility: hidden;
                }
            }
            .cell {
                display: inline-block;
                text-align: center;
                cursor: pointer;
                border: none;
                -webkit-touch-callout: none;
                font-size: 13px;

                @include user-select(none);
                @include transition($default-input-transition);

                &.hover {
                    color: $color-input-text;
                }
                &.current,
                &:hover {
                    @include opacity(0.8);
                    @include border-radius(3px);
                }
                &.current {
                    color: $color-white;
                    background: $color-input-text;
                }
                &:hover {
                    background: transparentize($color-input-text, 0.85);
                }
                &.title {
                    &:hover {
                        @include opacity(1);
                        background: transparent;
                    }
                }
                &.disabled {
                    @include opacity(0.4);
                }
            }
        }
    }

    &--width-tight {
        input[type=text].input-calendar-value {
            width: 150px;
        }
    }
}

.input-integer {
    position: relative;
    display: inline-block;

    &:after,
    a.undo {
        right: 40px;
    }
    .input-text {
        margin: 0;
    }

    .integer-controls {
        position: absolute;
        right: 13px;
        bottom: 8px;
        font-family: $icon-font;
        cursor: pointer;
        max-width: 35px;
        display: inline-block;

        button {
            $height: 10px;

            height: $height;
            width: 11px;
            padding: 0;
            margin: 0;
            display: block;
            text-align: center;
            text-decoration: none;
            color: $color-active-blue;
            border: none;
            background-color: transparent;
            line-height: $height;

            &:before {
                content: 'Y';
                font-family: $icon-font;
                font-size: 6px;
                line-height: $height;
                height: $height;
            }
            &.integer-up {
                margin: 0 0 3px;

                @include rotate(180deg);
            }
        }

        @include transition($default-input-transition);
    }
    [disabled],
    [readonly] {
        .integer-controls {
            pointer-events: none;
        }
    }
}

.input-selection-list {
    position: relative;
    display: inline-block;
    padding: 10px;
    border: 1px solid $color-timberwolf;
    width: 200px;
    box-sizing: border-box;
    overflow: hidden;

    @include border-radius(3px);

    &--no-border {
        border: none;
    }

    .selection-list-search {
        position: relative;

        .input-text {
            display: block;
            margin: 0 0 10px;
        }
        .input-container {
            input[type=text] {
                height: 36px;
                width: 100%;
                padding-left: 35px;
                padding-right: 25px;
            }
            &:before {
                font-size: 16px;
                bottom: 10px;
                left: 10px;
            }
        }
    }
    .input-selection-list-items {
        max-height: 228px;
        margin: 0;
        overflow-x: hidden;
        overflow-y: auto;

        .input-radio {
            margin: 0 15px 10px 0;
        }
        .input-checkbox {
            margin: 0 15px 10px 0;

            .label-text {
                text-transform: none;
            }
        }
    }
    .selection-options {
        border-top: 1px solid $color-input-fill;
        padding: 5px 0 0;

        .option {
            font-size: 13px;
            font-family: $font-pn-regular;
            color: $color-active-blue;
            display: inline-block;
            padding: 0;
            cursor: pointer;

            &:after {
                content: '|';
                padding: 0 5px;

                &:hover {
                    text-decoration: none !important;
                }
            }
            &:last-of-type {
                &:after {
                    content: '';
                    padding: 0;
                }
            }
        }
    }
    .required-message {
        background-color: $color-warning-icon-yellow;
        color: $color-white;
        margin: -10px -10px 10px;
        padding: 7px 10px;
        font-size: 15px;
        line-height: 1em;
        text-align: center;

        @include animation(fade-in 0.5s);

        > span {
            display: inline-block;
            text-align: left;
        }
    }
    .view-item {
        color: $color-midnight;
        font-size: 14px;
        margin: 0 0 10px 1px;
    }
    .help-tooltip {
        margin: 0 0 0 7px;
    }

    &.searchable {
        .input-selection-list-items {
            max-height: 228px - 46px;
            margin-top: 1px;
        }
        a.clear-search {
            position: absolute;
            font-family: $icon-font;
            text-decoration: none;
            font-size: 12px;
            bottom: 18px;
            right: 10px;

            &:before {
                content: 'X';
            }
        }
    }
    &.show-selection-options {
        width: 220px;
        padding-bottom: 5px;
    }
    &.fluid-width {
        max-width: 400px;
        width: auto;
    }
}

.link-dropdown-list {
    @include drop-down-styles;
    .collapsible-link {
        padding: 0;
    }
}


// INPUT VARIANTS ------------------------------------------------------------------------------------------------------

.required {
    @mixin requiredCss {
        content: '';
        position: absolute;
        background-color: $color-input-required;
        color: $color-white;
        font-size: 16px;
        text-align: center;
        width: 5px;
        z-index: 1;

        @include border-radius(1px);
        @include transition($default-input-transition);
    }

    @mixin requiredPadding {
        font-family: $font-stack;
        padding-left: $spacing-md;
    }

    @mixin requiredPaddingEntered {
        padding-left: $spacing-md;
    }

    &.input-text,
    &.input-calendar {
        input[type=text] {
            @include requiredPadding;
        }
        > .input-container {
            &:before {
                @include requiredCss;
                top: 5px;
                bottom: 5px;
                left: 5px;
            }
        }
    }
    &.input-calendar {
        &:before {
            left: 16px;
        }
        input[type=text].input-calendar-value {
            padding-left: 36px;
        }
    }
    &.input-textarea {
        textarea {
            @include requiredPadding;
        }
        > .input-container {
            &:before {
                @include requiredCss;
                top: 5px;
                bottom: 5px;
                left: 5px;
            }
        }
    }
    &.input-multivalues {
        .entries {
            @include requiredPadding;

            &:before {
                @include requiredCss;
                top: 5px;
                bottom: 5px;
                left: 5px;
            }
        }
    }
    &.input-select {
        select {
            padding-left: 25px;
        }
        .input-container {
            &:before {
                @include requiredCss;
                top: 5px;
                bottom: 7px;
                left: 5px;
            }
        }
    }
    &.input-toggle {
        margin: 0 0 0 15px;

        &:before {
            top: 0;
            bottom: 0;
            left: -14px;
        }
    }
    &.legend {
        float: right;
        margin: 0 0 0 15px;

        &:before {
            top: 0;
            bottom: 2px;
            left: -14px;
        }
    }
    &.value-entered {
        &.input-text,
        &.input-textarea,
        &.input-select,
        &.input-calendar {
            .input-container {
                &:before {
                    width: 0;
                }
            }
        }
        &.input-calendar {
            &:before {
                left: 10px;
            }
            input[type=text] {
                padding-left: 30px;
            }
        }
        &.input-text {
            input {
                @include requiredPaddingEntered;
            }
        }
        &.input-textarea {
            textarea {
                @include requiredPaddingEntered;
            }
        }
        &.input-select {
            select {
                @include requiredPaddingEntered;
            }
        }
    }
    &.selection-filter-label {
        padding-left: 20px;

        &:before {
            top: 5px;
            bottom: 5px;
            left: 5px;

            @include requiredCss;
        }
    }
}

.form-error {
    $icon-size: 16px;
    $icon-margin: 5px;
    $icon-spacing: $icon-size + $icon-margin;

    @mixin errorDisplayCss {
        ~ .form-error-message {
            display: block;
        }
    }

    @include keyframes('fade-down-in') {
        0% {
            opacity: 0;
            margin-top: -4px;
        }
        100% {
            opacity: 1;
            margin-top: 0;
        }
    }

    &.input-text {
        input[type=text],
        input[type=password] {
            border-color: $color-input-error;

            &:focus {
                @include errorDisplayCss;
            }
        }
        .input-container {
            padding-right: $icon-spacing;
        }
        .integer-controls {
            right: 33px;
        }
        a.password-show-button {
            right: 35px;
        }
    }
    &.input-textarea {
        textarea {
            border-color: $color-input-error;

            &:focus {
                @include errorDisplayCss;
            }
        }
        .input-container {
            padding-right: $icon-spacing;
        }
        .form-error-icon {
            top: $icon-margin;
        }
    }
    &.input-select {
        .wrapper {
            border-color: $color-input-error;

            &:hover {
                @include errorDisplayCss;
            }
        }
        select {
            &:focus {
                @include errorDisplayCss;
            }
        }
    }
    &.input-select:not(.input-custom-select) {
        .form-error-icon {
            right: -21px;
        }
        .input-container {
            width: calc(100% - 21px);
        }
    }
    &.input-toggle {
        .toggle {
            border-color: $color-input-error;

            &:after {
                border-color: $color-input-error;
            }
        }
    }
    &.input-checkbox {
        .icon {
            &:before {
                border-color: $color-input-error;
            }
        }
        .form-error-icon {
            top: auto;
            left: 31px;
            right: auto;
            margin: 3px 0 0;
        }
        &.inline {
            .label-text {
                padding-right: 20px;
            }
            .form-error-icon {
                top: 5px;
                left: 100%;
                margin: 0;
            }
        }
    }
    &.input-radio {
        .circle {
            border-color: $color-input-error;
        }
    }
    &.intl-tel-input {
        input[type=text] {
            border-color: $color-input-error;

            &:focus {
                @include errorDisplayCss;
            }
        }
    }
    &.input-file-upload {
        .form-error-icon {
            top: auto;
            bottom: 5px;
            right: -16px;
        }
        .form-error-message {
            top: calc(100% + 5px);

            @include border-radius($default-input-border-radius);
        }

        &.image-upload {
            .form-error-icon {
                right: -35px;
            }
            .form-error-message {
                top: 100%;

                @include border-radius(0 0 $default-input-border-radius $default-input-border-radius);
            }
        }
        input {
            &:focus {
                @include errorDisplayCss;
            }
        }
    }
    &.input-integer {
        .integer-controls {
            right: 34px;
        }
        a.undo {
            right: 61px;
        }
        &:focus {
            @include errorDisplayCss;
        }
    }
    &.input-timezone {
        padding-right: 26px;

        .form-error-icon {
            top: 0;
            right: 0;
        }
        .form-error-message {
            top: calc(100% - 20px);

            @include border-radius($default-input-border-radius);
        }
    }

    .form-error-icon {
        position: absolute;
        top: round(($default-input-height - $icon-size) / 2);
        right: 0;
        height: $icon-size;
        width: $icon-size;
        cursor: pointer;

        &:before {
            position: absolute;
            right: 0;
            content: '!';
            font-family: $icon-font;
            color: $color-critical-red;
            height: $icon-size;
            width: $icon-size;
            font-size: $icon-size;
            line-height: 1em;
        }
        &:hover {
            @include errorDisplayCss;
        }
    }

    .form-error-message {
        position: absolute;
        top: calc(100% - 1px);
        left: 0;
        right: 21px;
        display: none;
        z-index: 1;
        padding: 15px;
        box-sizing: border-box;
        min-width: 169px;
        background-color: $color-critical-red;
        color: $color-white;
        text-transform: none;
        -webkit-backface-visibility: hidden; // keeps animation from flickering in Chrome

        @include border-radius(0 0 $default-input-border-radius $default-input-border-radius);
        @include animation(fade-down-in 0.2s);
    }

    &.required {
        .input-container,
        .wrapper,
        .selected-option {
            &:before {
                background-color: $color-critical-red;
            }
        }
    }
}

.disabled {
    $disabled-opacity: 0.4;
    $normal-opacity: 1;

    font-style: normal;
    cursor: default;

    [disabled] {
        cursor: default;
    }

    &.input-text,
    &.input-textarea,
    &.input-multivalues,
    &.input-select {
        .input-container {
            @include opacity($disabled-opacity);
        }
        .label-text {
            span {
                @include opacity($disabled-opacity);
                &.icon-help,
                &.icon-lock {
                    @include opacity($normal-opacity);
                }
            }
        }
        .password-show-button {
            cursor: default;
            pointer-events: none;
        }
    }

    &.input-checkbox {
        .icon {
            @include opacity($disabled-opacity);
        }
        .label-text {
            span {
                @include opacity($disabled-opacity);
                &.icon-help,
                &.icon-lock {
                    @include opacity($normal-opacity);
                }
            }
        }
    }

    &.input-text {
        input {
            border: 1px solid $color-input-fill;
        }
    }
    &.input-radio {
        @include opacity($disabled-opacity);

        input[type=radio] + .circle {
            cursor: default;
        }
    }

    &.input-multivalues {
        input[type=text],
        input[type=password],
        textarea {
            &:hover {
                border: 1px solid $color-input-fill;
            }

            @include opacity(1);
        }
        .input-container {
            &:before {
                content: none;
            }
        }
    }

    &.input-select {
        .input-container {
            .wrapper {
                &:after {
                    content: '';
                }
            }
        }
    }

    &.input-toggle {
        @include opacity($disabled-opacity);
    }
}

.readonly {
    &.input-text,
    &.input-textarea {
        input[type=text],
        input[type=password],
        textarea {
            cursor: text;
            background-color: rgba($color-input-fill, 0.25);
            border-color: $color-rabbit-fur;

            &:hover,
            &:focus {
                border-color: $color-rabbit-fur;
            }
        }
        textarea {
            resize: none !important;
        }
    }
    &.required {
        &.input-text {
            input[type=text],
            input[type=password] {
                padding-left: 15px;
            }
        }
        &.input-textarea {
            textarea {
                padding-left: 15px;
            }
        }
        &.input-text,
        &.input-textarea,
        &.input-toggle,
        &.input-select > div,
        &.legend {
            &:before {
                content: none;
            }
        }
        &.input-select {
            select {
                padding: 0 30px 0 10px;
            }
        }
        &.input-toggle {
            margin: 0;
        }
    }
}

// password requirements indicators
.validation-messages {
    padding: 10px 0;
    display: none;
    &.show {
        display: block;
    }
    .message {
        padding: 3px 0;
    }
    .icon-fail,
    .icon-success {
        @include border-radius(6px);
        margin-right: 5px;
        padding: 3px;
        display: inline-block;
        font-size: 6px;
        height: 7px;
        width: 7px;
        line-height: 1em;
        text-align: center;
        vertical-align: text-top;
    }
    .icon-fail {
        color: $color-white;
        background-color: $color-critical-red;
        font-weight: 600;
        &:before {
            content: 'X';
        }
    }
    .icon-success {
        color: $color-white;
        background-color: $color-success;
    }
}


// MISC SUPPORTING STYLES ----------------------------------------------------------------------------------------------

.input-row {

    &--strict {
        @include flexbox();
        @include flexbox-direction(row);
        align-items: flex-end;
    }

    position: relative;
    margin: 0 0 25px;

    .input-text,
    .input-textarea,
    .input-select,
    .input-file-upload,
    .input-integer,
    .input-radio,
    .input-checkbox,
    .input-color-picker,
    .input-calendar {
        margin-bottom: 0;
    }

    .row-selector {
        margin-bottom: 50px;
    }

}

.checkbox-list {
    padding: 10px 5px 10px 0;
    margin-left: 0;
    border: 1px solid $color-elderly;

    .filters {
        margin: 0 0 0 10px;
    }
    .options {
        width: 99%;
        max-height: 133px;
        overflow-y: auto;
        padding-left: 10px;

        label.input-checkbox {
            width: 190px;
            margin-bottom: 10px;
            text-transform: none;
            display: inline-block;
            padding: 0 0 0 30px;

            .label-text {
                display: inline-block;
                padding-top: 6px;
                margin: 0;
            }
        }
        &.item-head {
            display: block;
            color: $color-walrus;
        }
    }
    .actions {
        display: inline-block;
        margin: 12px 0 0;
        font-size: 14px;

        .toggle-container {
            display: inline-block;
            margin: 0 0 0 20px;

            .input-toggle {
                margin: 0 0 0 10px;
            }
        }
    }
}

.input-datetime {
    .input-time {
        margin-right: 0;
        margin-left: 3px;
    }
}

.input-textselect {
    display: inline-block;

    // UnitInput Component
    &.unit-input {
        .input-custom-select {
            padding-top: 0;
            padding-bottom: 0;
        }
        .input-text {
            input[type=text] {
                &.selected-option-label {
                    text-align: left;
                    border-color: transparent;
                }
            }
        }
        &.reversed {
            .input-text {
                input[type=text] {
                    border-color: $color-dolphin;
                    background-color: $color-white;
                }
            }
            > .input-text {
                input[type=text] {
                    border-width: 1px 0 1px 1px;
                }
            }
            > .input-custom-select {
                border-color: $color-dolphin;

                input[type=text] {
                    border-width: 1px 1px 1px 0;
                }
            }
        }
    }

    .input-container .input-select {
        margin: 0 0 0 -2px;
        vertical-align: middle;
        display: inline-block;

        .wrapper {
            @include border-radius(0 $default-input-border-radius $default-input-border-radius 0);
        }
    }

    > .input-custom-select {
        padding: 0;
        border-left: 1px solid transparent;

        .input-text {
            input[type=text] {
                @include border-radius(0 $default-input-border-radius $default-input-border-radius 0);
                width: 100%;
                text-align: left;
            }
        }
    }

    > .input-text {
        margin: 0 !important;

        input[type=text] {
            text-align: right;
            vertical-align: middle;
            display: inline-block;

            @include border-radius($default-input-border-radius 0 0 $default-input-border-radius);
        }

        &.form-error {
            input[type=text] {
                @include border-radius($default-input-border-radius 0 0 $default-input-border-radius);
            }
            .input-container {
                padding-right: 0;
            }
        }

        .form-error-icon {
            right: -21px;
        }
        .form-error-message {
            right: 1px;
        }
    }
}

.input-selectionfilter {
    display: inline-block;
    margin: 0 15px 20px 0;
}

a {
    &.input-link {
        display: block;
        margin: 2px 0 0 1px;
    }
}

.drop-link {
    position: relative;
    text-transform: uppercase;

    &:hover {
        text-decoration: none;
    }
    &:after {
        content: 'v';
        font-family: $icon-font;
        font-size: 12px;
        text-transform: none;
        right: 10px;
        top: 1px;
        pointer-events: none;
    }
    &.open {
        &:after {
            content: '^';
        }
    }
}

.input-divider {
    display: block;
    margin: 0 0 15px;
    border-top: 1px solid $color-rabbit-fur;
    &.dotted {
        border-top-style: dotted;
    }
}

.input-child {
    margin: 0 0 0 25px;
}

.radio-input-description {
    color: $color-elephant;
    margin: -12px 0 13px 35px;
}

.input-radio {
    &:last-of-type {
        ~ .radio-input-description {
            margin-top: -7px;
        }
    }
}

@function calc-input-width($container-width, $divisions, $hor-margin) {
    @return (
        (($container-width - (($divisions - 1) * $hor-margin)) / $divisions)
    );
}

@function calc-input-part-width($fraction-num, $fraction-width, $hor-margin) {
    @return (
        round($fraction-width*$fraction-num + (($fraction-num - 1)*$hor-margin))
    );
}

@function input-width-map($width-smallest, $hor-margin) {
    @return ((
        'xsmall': $width-smallest,
        'small': calc-input-part-width(2, $width-smallest, $hor-margin),
        'medium': calc-input-part-width(3, $width-smallest, $hor-margin),
        'large': calc-input-part-width(4, $width-smallest, $hor-margin),
        'xlarge': calc-input-part-width(5, $width-smallest, $hor-margin),
        'full': calc-input-part-width(6, $width-smallest, $hor-margin)
    ));
}

@mixin input-width-css($size) {
    vertical-align: bottom;

    .label-text {
        word-break: normal;
    }
    &.input-text,
    &.input-textselect,
    &.input-textselect .input-text.form-error {
        width: map-get($input-width-settings-map-text, $size);
    }
    &.input-textarea {
        width: map-get($input-width-settings-map-textarea, $size);
    }
    &.input-select,
    &.input-custom-select {
        width: map-get($input-width-settings-map-select, $size);
    }
    &.input-checkbox {
        width: map-get($input-width-settings-map-default, $size);
    }
    &.input-calendar {
        input[type=text] {
            width: map-get($input-width-settings-map-default, $size);
        }
    }
    &.input-datetime {
        $dt-width: map-get($input-width-settings-map-default, $size);
        $cal-percent: 0.66;
        $cal-width: ceil($dt-width * $cal-percent);
        $time-width: floor(($dt-width - 4) * (1 - $cal-percent));

        display: inline-block;

        .input-calendar {
            input[type=text] {
                width: $cal-width;
            }
        }
        .input-time {
            select {
                width: $time-width;
            }
        }
    }
}

// Input width settings
$input-width-settings: (
    'width-max': 590px,
    'num-increments': 6,
    'hor-margin': 10px,
    'vert-margin': 25px
);
$input-width-settings-smallest-default: calc-input-width(
    map-get($input-width-settings, 'width-max'),
    map-get($input-width-settings, 'num-increments'),
    map-get($input-width-settings, 'hor-margin')
);
$input-width-settings-smallest-text: calc-input-width(
    map-get($input-width-settings, 'width-max'),
    map-get($input-width-settings, 'num-increments'),
    map-get($input-width-settings, 'hor-margin')
);
$input-width-settings-smallest-textarea: calc-input-width(
    map-get($input-width-settings, 'width-max'),
    map-get($input-width-settings, 'num-increments'),
    map-get($input-width-settings, 'hor-margin')
);
$input-width-settings-smallest-select: calc-input-width(
    map-get($input-width-settings, 'width-max'),
    map-get($input-width-settings, 'num-increments'),
    map-get($input-width-settings, 'hor-margin')
);
$input-width-settings-map-default: input-width-map(
    $input-width-settings-smallest-default,
    map-get($input-width-settings, 'hor-margin')
);
$input-width-settings-map-text: input-width-map(
    $input-width-settings-smallest-text,
    map-get($input-width-settings, 'hor-margin')
);
$input-width-settings-map-textarea: input-width-map(
    $input-width-settings-smallest-textarea,
    map-get($input-width-settings, 'hor-margin')
);
$input-width-settings-map-select: input-width-map(
    $input-width-settings-smallest-select,
    map-get($input-width-settings, 'hor-margin')
);

label {
    &.input-width-xsmall,
    &.input-width-small,
    &.input-width-medium,
    &.input-width-large,
    &.input-width-xlarge,
    &.input-width-full {
        margin-bottom: map-get($input-width-settings, 'vert-margin');

        input[type=text],
        input[type=password],
        textarea {
            width: 100%;
        }
    }

    &.input-width-max {
        width: 100%;
        margin-right: 0;
        max-width: none;
    }

    &.input-width-xsmall {
        @include input-width-css('xsmall');
    }

    &.input-width-small {
        @include input-width-css('small');
    }

    &.input-width-medium {
        @include input-width-css('medium');
    }

    &.input-width-large {
        @include input-width-css('large');
    }

    &.input-width-xlarge {
        @include input-width-css('xlarge');
    }

    &.input-width-full {
        @include input-width-css('full');
    }
}


// DEPRECATED OR SITE-SPECIFIC STYLES --------------------------------------------------------------
// TODO : move WP styles to WP

label {
    &.input-text {
        &.large {
            .input-container {
                input {
                    height: 48px;
                    font-size: 16px;
                }
            }
            &.search {
                .input-container {
                    &:before {
                        bottom: 18px;
                        left: 14px;
                    }
                    .undo {
                        bottom: 13px;
                        right: 12px;
                    }
                }
            }
        }
    }
    &.main {
        display: block;
        margin: 0 0 5px;
    }
}

.inline-input-labels {
    > label {
        display: table-row;

        &:before {
            content: none !important;
        }
        .label-text,
        .input-container {
            display: table-cell;
            vertical-align: middle;
            border-bottom: 15px solid transparent;
        }
        .label-text {
            padding: 0 15px 0 0;
        }
        .input-container {
            display: table-cell;
            padding: 0;
        }
        input,
        textarea {
            margin: 0;
        }
        &.input-select {
            .input-container {
                margin: 0;

                select {
                    margin: 0;
                }
            }
        }
        .selected-option-label {
            margin: 0;
        }
        &.input-checkbox {
            input {
                display: none;
            }
            .label-text {
                height: 25px;
            }
            .icon {
                display: table-cell;
                position: relative;
                &:after {
                    bottom: auto;
                    top: 5px;
                }
            }
        }
    }
}

.password-errors {
    margin: 10px 0 0 2px;

    > div {
        display: inline-block;
        margin: 0 15px 5px 0;
        width: 164px;

        &:before {
            content: '\00D7';
            background: $color-critical-red;
            color: $color-white;
            font-size: 14px;
            height: 14px;
            width: 14px;
            line-height: 16px;
            margin: 0 5px 0 0;
            text-align: center;
            display: inline-block;

            @include border-radius(10px);
        }
    }
}

.radio-inputs {
    position: relative;
    margin: 15px 0 0 23px;
}

.input-row {
    &.lead-item {
        margin-bottom: 10px;
    }
    .inactive,
    &.inactive {
        display: none;
    }
    .text-input,
    .input-checkbox {
        text-align: left;
        .comment {
            display: block;
            padding: 5px;
            margin-top: -3px;
            &.error {
                background-color: $color-critical-red;
                color: $color-white;
                padding: 15px;

                @include border-radius(0 0 4px 4px);
            }
        }
    }
}


@mixin tooltip-menu {
    .tooltip-menu {
        display: block;
        position: absolute;
        left: 0;
        z-index: 10;
        border: 1px solid $color-input-border;
        background: $color-white;

        @include border-radius(3px);
        @include animation(fade-in 0.2s);

        &:before,
        &:after {
            content: '';
            position: absolute;
            border-style: solid;
            border-width: 10px;
            left: 15px;
        }
        &:before {
            top: -21px;
            border-color: transparent transparent $color-input-border transparent;
        }
        &:after {
            top: -20px;
            border-color: transparent transparent $color-white transparent;
        }

        .tooltip-menu-options {
            position: relative;
            box-sizing: border-box;
            max-height: 285px;
            width: 202px;
            overflow: auto;
            margin: 0 0 10px;
        }
        .tooltip-menu-option {
            display: block;
            position: relative;
            cursor: pointer;

            &:hover,
            &.selected {
                background-color: $color-elderly;
            }

            @include transition(all 0.1s);
        }
        .tooltip-menu-search {
            position: relative;
            margin: 10px;

            &:before {
                font-family: $icon-font;
                content: '\73';
                position: absolute;
                top: 12px;
                left: 10px;
                font-size: 17px;
                line-height: 1em;
                text-transform: none;
            }

            input {
                padding-left: 35px;
            }
        }
        .tooltip-menu-search-clear {
            position: absolute;
            top: 12px;
            right: 14px;
            font-size: 12px;

            &:before {
                content: 'X';
                font-family: $icon-font;
            }
        }
    }
}

.input-timezone {
    position: relative;
    display: inline-block;
    vertical-align: bottom;

    @include tooltip-menu;

    .collapsible-link {
        text-transform: none;
        padding: 0;
    }
    .tooltip-menu {
        top: calc(100% + 10px);
        font-size: 14px;

        .tooltip-menu-search {
            input {
                width: 330px;
            }
        }
        .tooltip-menu-options {
            width: 350px;
        }
        .tooltip-menu-option,
        .tooltip-menu-option-title {
            padding: 11px 5px 9px;
            margin: 0 10px;
            border-bottom: 1px solid $color-cinder-block;
        }
        .tooltip-menu-option {
            color: $color-midnight;

            &:last-child {
                border-bottom: none;
            }
        }
        .tooltip-menu-option-title {
            color: $color-walrus;
            background-color: $color-white;

            .icon-clear {
                &:before {
                    font-size: 11px;
                    margin: 0 0 0 7px;
                }
            }
            .country-label {
                color: $color-elephant;
            }
        }
        .timezone-offset {
            float: right;
        }
    }
    &.countries {
        .tooltip-menu-search {
            height: 0;
            overflow: hidden;
            margin: 0;

            @include opacity(0);
        }
    }
    &.align-inputs {
        vertical-align: bottom;

        .label-text {
            margin-bottom: 20px;
        }
        .collapsible-link {
            height: 28px;
        }
    }
}

.input-menu-button {
    position: relative;
    display: inline-block;

    @include tooltip-menu;

    .tooltip-menu {
        top: 41px;

        .tooltip-menu-options-title {
            margin: 20px 0 7px 22px;
        }
        .tooltip-menu-option {
            padding: 8px 15px 7px 22px;
            line-height: 20px;

            &:before {
                font-family: $icon-font;
                content: '\2b';
                font-size: 10px;
                position: absolute;
                left: 7px;
                top: 8px;
                color: $color-white;

                @include transition($default-input-transition);
            }
            &:hover {
                background: $color-elderly;
                text-decoration: none;

                &:before {
                    color: inherit;
                }
            }
        }
    }
    .tooltip-menu-description {
        position: absolute;
        top: 0;
        padding: 20px;
        color: $color-rhino;
    }
}

// filter bar
.selection-filter-label {
    margin: 0;
    padding: 1px 38px 0 15px;
    font-size: 13px;
    height: $default-input-height;
    line-height: $default-input-height;
    border: $borderSize solid $color-rabbit-fur;
    position: relative;
    display: inline-block;
    font-family: $font-pn-regular;
    background-color: $color-white;
    min-width: 170px;
    text-align: left;
    text-transform: none;
    vertical-align: middle;
    cursor: pointer;
    outline: none;
    white-space: nowrap;
    color: $color-midnight;

    @include border-radius($default-input-border-radius);
    @include box-sizing(border-box);

    &:after {
        position: absolute;
        top: 0;
        right: 15px;
        content: '\59';
        font-family: $icon-font;
        font-size: 5px;
        color: $color-midnight;

        @include transition(($default-input-transition));
    }
    .count {
        margin-left: 5px;
    }

    &__placeholder {
        opacity: 0.4;
        font-style: italic;
    }

    &--open:after {
        @include rotate(-180deg);
        @include transition((all 0.2s linear));
    }
}

.input-message-inline {
    @include border-radius(2px);
    display: inline-block;
    color: $color-white;
    font-size: 15px;
    line-height: 1em;
    padding: 10px;
    margin: 7px 0 10px;

    &.required {
        background: $color-warning-icon-yellow;
    }
}

.input-icon {
    color: $color-midnight;
    font-size: 16px;
    position: absolute;
    left: $spacing-sm;
    top: 50%;
    transform: translateY(-50%);

    &.icon-search {
        font-weight: bold;
    }

    &--right {
        right: $spacing-sm;
        left: auto;
    }
}

label.input-text--right-icon {
    input {
        padding-right: $spacing-xl;
    }
}
