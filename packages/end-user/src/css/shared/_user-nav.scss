.user-info {
    $image-size: 30px;
    @include flexbox();
    align-items: center;
    color: $color-midnight;
    text-decoration: none;

    &__icon,
    &__image {
        font-size: $image-size;
        display: inline-block;
        width: $image-size;
        height: $image-size;

        &--small {
            width: 30px;
            height: 30px;
        }

        &--medium {
            width: 55px;
            height: 55px;
        }

        &--large {
            width: 75px;
            height: 75px;
        }
    }
    &__icon {
        background-image: url('data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMjQiIGhlaWdodD0iMTAyNCIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCI+PHRpdGxlPjwvdGl0bGU+PGcgaWQ9Imljb21vb24taWdub3JlIj48L2c+PHBhdGggZD0iTTUxMiAwYy0yODEuMzY5IDAtNTEyIDIzMC42MzEtNTEyIDUxMnMyMzAuNjMxIDUxMiA1MTIgNTEyYzI4MS4zNjkgMCA1MTItMjMwLjYzMSA1MTItNTEycy0yMzAuNjMxLTUxMi01MTItNTEyek04MzkuNDk1IDg0NC4xMDhjLTczLjgwMi03My44MDItMTcwLjY2Ny0xMDYuMDkwLTE4OS4xMTctMTEwLjcwMy01NS4zNTEtNDYuMTI2LTMyLjI4OC05Ni44NjUgOS4yMjUtMTY2LjA1NCA0LjYxMy05LjIyNSAxMy44MzgtMjMuMDYzIDE4LjQ1LTMyLjI4OCAyNy42NzYtNTkuOTY0IDIzLjA2My05Ni44NjUgMTguNDUtMTEwLjcwMyA5LjIyNS00MS41MTQgMjMuMDYzLTE1Ni44MjktMzYuOTAxLTIyMS40MDUtMzYuOTAxLTM2LjkwMS04Ny42NC01MC43MzktMTUyLjIxNi0zMi4yODgtNjkuMTg5IDAtMTE5LjkyOCAyMy4wNjMtMTUyLjIxNiA2NC41NzctNTUuMzUxIDczLjgwMi0yNy42NzYgMTc5Ljg5Mi0xOC40NSAyMDcuNTY4LTEzLjgzOCA1MC43MzkgMTMuODM4IDg3LjY0IDIzLjA2MyA5Ni44NjVzODcuNjQgMTI0LjU0MSAxOC40NSAxOTMuNzNsLTIzLjA2MyA5LjIyNWMtNzguNDE0IDMyLjI4OC0xMjkuMTUzIDU5Ljk2NC0xNzAuNjY3IDk2Ljg2NS04Ny42NC04My4wMjctMTM4LjM3OC0xOTguMzQyLTEzOC4zNzgtMzI3LjQ5NSAwLTI1OC4zMDYgMjA3LjU2OC00NjUuODc0IDQ2NS44NzQtNDY1Ljg3NHM0NjUuODc0IDIwNy41NjggNDY1Ljg3NCA0NjUuODc0YzAgMTI5LjE1My01NS4zNTEgMjQ0LjQ2OC0xMzguMzc4IDMzMi4xMDh6Ij48L3BhdGg+PC9zdmc+');

        background-size: cover;
        background-repeat: no-repeat;
    }
    &__image {
        border-radius: 50%;
        background-size: cover;
        background-position: 50%;
        background-repeat: no-repeat;
    }
}

.user-nav {
    // @include font-pn-regular;
    @include flexbox();
    align-items: flex-end;
    padding: 18px 25px;

    &__info {
        margin-right: $spacing-md;

        .user-info__image, .user-info__icon {
            margin-right: $spacing-sm;
        }

        &:after {
            position: absolute;
            top: auto;
            right: 0;
            content: 'Y';
            font-family: 'iconfont';
            font-size: 5px;
            color: $color-midnight;
            transition: all 0.2s linear;
        }

        .truncate {
            display: inline-block;
            max-width: 410px;
            @include text-truncate;
        }
    }

    &__collapsible-trigger {
        display: none;
        margin-left: auto;
        font-size: 20px;
        align-self: center;
        cursor: pointer;
        z-index: 79;

    }
    &__modal-bg {
        z-index: 78;
    }

    &__logo {
        $line-height: 50px;
        margin-right: $spacing-xx;
        flex: 0 0 auto;
        height: $line-height;
        line-height: $line-height;
        img {
            vertical-align: middle;
            max-width: 3 * $line-height;
            max-height: 100%;
        }
    }

    &__collapsible-menu {
        @include flexbox();
        @include flexbox-grow(1);
        align-items: center;

    }
    &__dropdown-menu {
        margin-left: auto;
        .popover__trigger {
            cursor: pointer;
            &.active {
                .user-info {
                    &:after {
                        transform: rotate(180deg);
                    }
                }
            }
        }
    }
    &__mobile-sign-out {
        display: none;
        font-size: 16px;
        color: $color-active-blue;
        cursor: pointer;
        text-align: center;
    }

    //override default tab styling
    .tabs {
        margin: 0;
        border: none;
        ul {
            margin-bottom: 0;
            display: flex;
            li {
                display: inline-block;
                align-self: end;
                padding-bottom: 5px;
                &.active {
                    padding-bottom: 2px;
                }
            }
        }
    }

    // And add the tab styling to the full nav
    padding-bottom: $spacing-lg;
    border-bottom: 1px solid $color-rabbit-fur;
}

//based on PIC tablet menu breakpoints
@media (max-width: 1119px) {
    .user-nav {
        &__collapsible-menu {
            position: fixed;
            top: 0;
            right: -100%;
            bottom: 0;
            left: auto;
            padding: $spacing-lg;
            margin: 0;
            display: inline-flex;
            flex-direction: column-reverse;
            justify-content: flex-end;
            align-items: normal;
            transition: right 0.25s;
            background-color: $color-white;
            width: auto;
            z-index: 78;
            &--open {
                right: 0;
            }

        }
        &__collapsible-trigger {
            $trigger-size: 26px;
            display: block;
            width: $trigger-size;
            height: $trigger-size;
            position: relative;
            span,
            span:before,
            span:after {
                position: absolute;
                width: $trigger-size;
                height: 2px;
                border-radius: 3px;
                background-color: $color-midnight;
                content: '';
                transition: all 0.25s;
                bottom: 50%;
            }
            span:before {
                position: absolute;
                bottom: 9px;
            }
            span:after {
                position: absolute;
                top: 9px;
            }
            &--open {
                span {
                    background-color: transparent;
                }
                span:before {
                    bottom: 0;
                    transform: rotate(135deg);
                }
                span:after {
                    top: 0;
                    transform: rotate(45deg);
                }
            }
        }
        &__dropdown-menu {
            pointer-events: none; //don't open the dropdown
            margin: 0;
            .popover__trigger {
                display: block;
            }
        }
        &__mobile-sign-out {
            display: block;
        }
        .tabs {
            ul {
                display: block;
                li {
                    display: block;
                    text-transform: none;
                    font-size: 16px;
                    margin-bottom: $spacing-lg;
                    &.active {
                        &:after {
                            display: none;
                        }
                    }
                }
            }
        }

        &__info {
            $image-size: 60px;
            font-size: 20px;
            display: block;
            text-align: center;
            padding-bottom: $spacing-sm;

            .truncate {
                max-width: 210px;
            }

            .user-info {
                &__icon,
                &__image {
                    display: block;
                    width: $image-size;
                    height: $image-size;
                }

                &__image {
                    margin: 0 auto;
                    margin-bottom: $spacing-sm;
                }
            }

            &:after {
                display: none;
            }
        }
    }
    body.menu-open {
        overflow-y: hidden;
    }
}

